# Image Transformation Verifier

This is a Solidity smart contract for verifying SP1 proofs of image transformations.

## Setup

1. Install dependencies:
```bash
forge install
```

2. Get your program vkey:
```bash
cargo prove vkey -elf ../target/elf-compilation/riscv32im-succinct-zkvm-elf/release/img-editor-program
```

3. Create a `.env` file with the following variables:
```
PRIVATE_KEY=your_private_key
SP1_VERIFIER_ADDRESS=address_of_sp1_verifier_on_target_chain
IMAGE_TRANSFORM_VKEY=your_program_vkey
```

## Testing

Run the tests:
```bash
forge test
```

## Deployment

Deploy to your chosen network:
```bash
forge script script/Deploy.s.sol --rpc-url your_rpc_url --broadcast
```

## Contract Usage

The `ImageVerifier` contract has one main function:

```solidity
function verifyImageTransformProof(
    bytes calldata _publicValues,
    bytes calldata _proofBytes
) public returns (string memory id)
```

This function verifies a proof of image transformation and returns the image ID. It emits a `ProofVerified` event when successful.

### Parameters:
- `_publicValues`: ABI-encoded string containing the image ID
- `_proofBytes`: The proof bytes generated by the SP1 prover

### Events:
- `ProofVerified(string indexed id, bytes proof)`: Emitted when a proof is successfully verified
